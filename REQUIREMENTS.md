# AI 实时资讯雷达 · MVP 需求方案（v0.1）

## 一、项目目标

实现一个 **AI 行业资讯自动聚合与推送系统**：

- 每小时自动抓取 AI 相关最新消息
- 进行基础去重与热度计算
- 汇总 Top N 热点
- 通过 **飞书 Webhook** 自动推送到群聊

该版本为 **MVP（最小可用产品）**，目标是验证信息价值，而非完整产品形态。

---

## 二、功能范围（MVP 边界）

### 2.1 包含功能（必须实现）

1. 定时任务（每小时执行一次）
2. 抓取固定 AI 资讯源
3. 将不同来源的数据统一为标准结构
4. 对资讯进行去重
5. 计算基础热度分数
6. 按热度排序，选取 Top 5
7. 通过飞书 Webhook 推送结构化消息

### 2.2 不包含功能（明确不做）

- 前端页面 / Web UI
- 用户系统 / 登录
- 个性化推荐
- 长期历史数据分析
- 实时流式更新（Streaming）

---

## 三、数据源定义（第一版固定）

### 3.1 数据源清单

至少支持以下数据源（可按优先级实现）：

1. **OpenAI 官方 Blog（RSS）**
2. **Anthropic 官方 Blog（RSS）**
3. **Hacker News**
   - 拉取 Top / New
   - 仅保留标题或内容中包含关键词：AI / LLM / GPT / Claude / Model
4. **GitHub Trending**
   - 技术方向：AI / Machine Learning

> 优先使用 RSS / 官方接口，避免复杂爬虫。

---

## 四、统一数据结构（核心）

所有来源的数据，必须被转换为以下统一结构：

```json
{
  "id": "唯一ID（可由 title + link hash）",
  "title": "资讯标题",
  "summary": "简要摘要（可选，第一版可为空）",
  "link": "原文链接",
  "source": "来源名称",
  "published_at": "原始发布时间（ISO8601）",
  "collected_at": "系统抓取时间（ISO8601）",
  "hot_score": 0
}
```

---

## 五、去重规则

至少实现以下去重策略之一：

- 相同 `link` 视为同一条资讯
- 或 `title` 高度相似（可使用简单字符串相似度）

---

## 六、热度计算规则（MVP 简化版）

热度分数用于排序，不追求算法最优，只要求 **可解释、可调整**。

### 6.1 热度计算公式（示例）

```
hot_score =
  source_weight
+ recency_bonus
```

### 6.2 来源权重（可配置）

- OpenAI Blog：50
- Anthropic Blog：50
- GitHub Trending：40
- Hacker News：30

### 6.3 时间加成（recency_bonus）

- 发布时间 ≤ 1 小时：+20
- 发布时间 ≤ 3 小时：+10
- 发布时间 > 3 小时：+0

---

## 七、排序与筛选

- 按 `hot_score` 从高到低排序
- 选取 **Top 5** 作为本小时推送内容
- 若不足 5 条，则推送现有全部

---

## 八、飞书 Webhook 推送

### 8.1 Webhook 地址

```
https://open.feishu.cn/open-apis/bot/v2/hook/3df64af8-27cc-4e52-bc19-03d2deb176ef
```

### 8.2 推送频率

- **每小时 1 次**
- 推送内容 = "过去 1 小时 AI 热点 Top 5"

### 8.3 消息形式

- 使用 **飞书 post 富文本消息**
- 消息内容需包含：
  - 标题：`🤖 AI 热点速递（每小时）`
  - 每条资讯：
    - 标题
    - 原文链接
    - 来源
    - 热度分数

---

## 九、调度与运行方式

- 使用 Python 实现
- 采用以下任一方案：
  - cron
  - APScheduler
- 单机可运行，无需分布式

---

## 十、异常与兜底要求

1. 某个数据源抓取失败：
   - 记录日志
   - 不影响整体流程
2. 本小时无新资讯：
   - 可不推送，或推送"暂无重大更新"
3. 飞书推送失败：
   - 至少重试 1 次

---

## 十一、交付物要求

最终应产出：

1. 可直接运行的 Python 脚本
2. 清晰的模块划分（抓取 / 处理 / 推送）
3. README：
   - 如何运行
   - 如何配置定时任务
   - 如何扩展新数据源

---

## 十二、验收标准（最重要）

- 脚本运行后：
  - 每小时飞书群会收到 1 条 AI 热点消息
  - 内容包含 Top 5 资讯
  - 排序逻辑符合热度规则
  - 系统在单个数据源失败时仍可正常推送
